{"ast":null,"code":"import styled$1 from '@emotion/styled';\nimport React, { useState, useEffect, useRef, createRef, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nvar extractInfoFromDate = function extractInfoFromDate(_ref) {\n  var date = _ref.date,\n      separator = _ref.separator,\n      format = _ref.format;\n  var dateSplitted = (date || '').split(separator);\n  var extractorByFormat = {\n    MMDDYYYY: ['month', 'day', 'year'],\n    DDMMYYYY: ['day', 'month', 'year'],\n    YYYYMMDD: ['year', 'month', 'day']\n  };\n  var extractor = extractorByFormat[format];\n  var dateExtracted = extractor.reduce(function (extracted, key, idx) {\n    var _extends2;\n\n    return _extends({}, extracted, (_extends2 = {}, _extends2[key] = dateSplitted[idx] || '', _extends2));\n  }, {});\n  return _extends({}, dateExtracted);\n};\n\nvar padValue = function padValue(_ref2) {\n  var value = _ref2.value,\n      valueFromDate = _ref2.valueFromDate,\n      pad = _ref2.pad;\n  var _value = value;\n\n  if ((value || '').startsWith('0') && value.length > 2) {\n    _value = parseInt(value, 10);\n  }\n\n  return String(_value || (_value === '' ? _value : valueFromDate || '')).padStart(pad, '0');\n};\n\nvar buildDate = function buildDate(_ref3) {\n  var date = _ref3.date,\n      day = _ref3.day,\n      month = _ref3.month,\n      year = _ref3.year,\n      separator = _ref3.separator,\n      format = _ref3.format;\n\n  var _extractInfoFromDate = extractInfoFromDate({\n    date: date,\n    separator: separator,\n    format: format\n  }),\n      dayFromDate = _extractInfoFromDate.day,\n      monthFromDate = _extractInfoFromDate.month,\n      yearFromDate = _extractInfoFromDate.year;\n\n  var _day = padValue({\n    value: day,\n    valueFromDate: dayFromDate,\n    pad: 2\n  });\n\n  var _month = padValue({\n    value: month,\n    valueFromDate: monthFromDate,\n    pad: 2\n  });\n\n  var _year = padValue({\n    value: year,\n    valueFromDate: yearFromDate,\n    pad: 4\n  });\n\n  var builderByFormat = {\n    MMDDYYYY: [_month, _day, _year],\n    DDMMYYYY: [_day, _month, _year],\n    YYYYMMDD: [_year, _month, _day]\n  };\n  var builder = builderByFormat[format];\n  return ''.concat(builder[0], separator).concat(builder[1], separator).concat(builder[2]);\n};\n\nvar getDaysInMonth = function getDaysInMonth(_ref) {\n  var date = _ref.date,\n      separator = _ref.separator,\n      format = _ref.format;\n\n  var _extractInfoFromDate = extractInfoFromDate({\n    date: date,\n    separator: separator,\n    format: format\n  }),\n      month = _extractInfoFromDate.month,\n      year = _extractInfoFromDate.year;\n\n  return new Date(year, month, 0).getDate();\n};\n\nvar getNewValue = function getNewValue(_ref2) {\n  var value = _ref2.value;\n  var valueNumeric = parseInt(value, 10);\n  var newValue = false;\n\n  if (value === '') {\n    newValue = value;\n  }\n\n  if (!isNaN(valueNumeric) && value.match(/^[0-9]+$/) || value === '') {\n    newValue = value;\n  }\n\n  return newValue;\n};\n\nvar isBetweenLimitsOrEmpty = function isBetweenLimitsOrEmpty(_ref3) {\n  var min = _ref3.min,\n      max = _ref3.max,\n      value = _ref3.value;\n  var isValid = true;\n  var valueNumeric = parseInt(value, 10);\n\n  if (valueNumeric > max || valueNumeric < min) {\n    isValid = false;\n  }\n\n  if (value === '') {\n    isValid = true;\n  }\n\n  return {\n    isValid: isValid,\n    newValue: value\n  };\n};\n\nvar validateDay = function validateDay(_ref4) {\n  var date = _ref4.date,\n      format = _ref4.format,\n      separator = _ref4.separator,\n      value = _ref4.value;\n  return _extends({\n    errors: []\n  }, isBetweenLimitsOrEmpty({\n    min: 0,\n    max: getDaysInMonth({\n      date: date,\n      format: format,\n      separator: separator\n    }),\n    value: getNewValue({\n      value: value\n    })\n  }));\n};\n\nvar validateMonth = function validateMonth(_ref5) {\n  var value = _ref5.value;\n  return _extends({\n    errors: []\n  }, isBetweenLimitsOrEmpty({\n    min: 0,\n    max: 12,\n    value: getNewValue({\n      value: value\n    })\n  }));\n};\n\nvar validateYear = function validateYear(_ref6) {\n  var value = _ref6.value;\n  return _extends({\n    errors: []\n  }, isBetweenLimitsOrEmpty({\n    min: 0,\n    max: 9999,\n    value: getNewValue({\n      value: value\n    })\n  }));\n};\n\nvar validatorsByKey = {\n  day: validateDay,\n  month: validateMonth,\n  year: validateYear\n};\n\nvar validateDate = function validateDate(_ref7) {\n  var date = _ref7.date,\n      format = _ref7.format,\n      separator = _ref7.separator;\n\n  var _extractInfoFromDate2 = extractInfoFromDate({\n    date: date,\n    separator: separator,\n    format: format\n  }),\n      day = _extractInfoFromDate2.day,\n      month = _extractInfoFromDate2.month,\n      year = _extractInfoFromDate2.year;\n\n  var isValid = true;\n  var isIncomplete = false;\n\n  var _validateDay = validateDay({\n    date: date,\n    format: format,\n    separator: separator,\n    value: day\n  }),\n      isDayValid = _validateDay.isValid;\n\n  var _validateMonth = validateMonth({\n    date: date,\n    format: format,\n    separator: separator,\n    value: month\n  }),\n      isMonthValid = _validateMonth.isValid;\n\n  var _validateYear = validateYear({\n    date: date,\n    format: format,\n    separator: separator,\n    value: year\n  }),\n      isYearValid = _validateYear.isValid;\n\n  if (!isDayValid || !isMonthValid || !isYearValid) isValid = false;\n  isIncomplete = parseInt(day || '', 10) === 0 || parseInt(month || '', 10) === 0 || parseInt(year || '', 10) === 0;\n  return {\n    isValid: isValid,\n    isIncomplete: isIncomplete\n  };\n};\n\nvar Separator = function Separator(_ref) {\n  var separator = _ref.separator;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"separator\"\n  }, separator);\n};\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar Separator$1 = styled$1(Separator)(_templateObject());\n\nvar useUpdateEffect = function useUpdateEffect(effect, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  var isInitialMount = useRef(true);\n  useEffect(function () {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n};\n\nvar handleChangeInput = function handleChangeInput(_ref) {\n  var dateKey = _ref.dateKey,\n      setValue = _ref.setValue,\n      setError = _ref.setError,\n      onChange = _ref.onChange,\n      date = _ref.date,\n      format = _ref.format,\n      separator = _ref.separator,\n      itemIndex = _ref.itemIndex;\n  return function (e) {\n    var value = e.target.value;\n\n    var _validatorsByKey$date = validatorsByKey[dateKey]({\n      date: date,\n      format: format,\n      separator: separator,\n      value: value\n    }),\n        isValid = _validatorsByKey$date.isValid,\n        newValue = _validatorsByKey$date.newValue;\n\n    setError(false);\n\n    if (isValid && (newValue || newValue === '')) {\n      var _onChange;\n\n      onChange((_onChange = {}, _onChange[dateKey] = newValue, _onChange.itemIndex = itemIndex, _onChange));\n      setValue(newValue);\n    } else {\n      setError(true);\n    }\n  };\n};\n\nvar useInput = function useInput(_ref2) {\n  var labels = _ref2.labels,\n      placeholders = _ref2.placeholders,\n      dateKey = _ref2.dateKey,\n      date = _ref2.date,\n      onChange = _ref2.onChange,\n      format = _ref2.format,\n      separator = _ref2.separator,\n      isFocused = _ref2.isFocused,\n      itemIndex = _ref2.itemIndex;\n\n  var _useState = useState(''),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState(''),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var handleChange = handleChangeInput({\n    dateKey: dateKey,\n    setValue: setValue,\n    setError: setError,\n    onChange: onChange,\n    date: date,\n    format: format,\n    separator: separator,\n    itemIndex: itemIndex\n  });\n  useUpdateEffect(function () {\n    var dateInfo = extractInfoFromDate({\n      date: date,\n      separator: separator,\n      format: format\n    });\n    var _value = dateInfo[dateKey];\n\n    if (parseInt(_value, 10) !== parseInt(value, 10)) {\n      setValue(_value);\n    } else {\n      if (isFocused) {\n        setValue(_value);\n      } else {\n        if (_value !== value) {\n          setValue(_value);\n        }\n      }\n    }\n  }, [date]);\n  useEffect(function () {\n    var dateInfo = extractInfoFromDate({\n      date: date,\n      separator: separator,\n      format: format\n    });\n    var _value = dateInfo[dateKey];\n    setValue(_value);\n  }, []);\n  return {\n    label: labels[dateKey],\n    placeholder: placeholders[dateKey],\n    handleChange: handleChange,\n    value: value,\n    error: error,\n    shouldManageZero: dateKey !== 'year'\n  };\n};\n\nvar Input = React.forwardRef(function (_ref, ref) {\n  var _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      placeholders = _ref.placeholders,\n      labels = _ref.labels,\n      date = _ref.date,\n      format = _ref.format,\n      separator = _ref.separator,\n      itemIndex = _ref.itemIndex,\n      dateKey = _ref.dateKey,\n      onChange = _ref.onChange,\n      moveBack = _ref.moveBack,\n      moveNext = _ref.moveNext,\n      _ref$shouldManageZero = _ref.shouldManageZero,\n      shouldManageZero = _ref$shouldManageZero === void 0 ? true : _ref$shouldManageZero,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      showLabel = _ref.showLabel;\n\n  var _useInput = useInput({\n    labels: labels,\n    placeholders: placeholders,\n    ref: ref,\n    date: date,\n    onChange: onChange,\n    format: format,\n    separator: separator,\n    itemIndex: itemIndex,\n    isfocused: ref && ref.current !== document.activeElement,\n    dateKey: dateKey\n  }),\n      value = _useInput.value,\n      label = _useInput.label,\n      placeholder = _useInput.placeholder,\n      handleChange = _useInput.handleChange;\n\n  var _useState = useState(false),\n      nextBack = _useState[0],\n      setNextBack = _useState[1];\n\n  var _useState2 = useState(false),\n      nextBackArrow = _useState2[0],\n      setNextBackArrow = _useState2[1];\n\n  var _useState3 = useState(false),\n      nextForwardArrow = _useState3[0],\n      setNextForwardArrow = _useState3[1];\n\n  var _useState4 = useState(false),\n      isFocused = _useState4[0],\n      setIsFocused = _useState4[1];\n\n  var _useState5 = useState(false),\n      zeroTyped = _useState5[0],\n      setZeroTyped = _useState5[1];\n\n  var numericValue = parseInt(value, 10);\n\n  var handleFocus = function handleFocus(e) {\n    setZeroTyped(false);\n    setIsFocused(true);\n    ref.current.select(0, ref.current.value.length);\n    onFocus();\n  };\n\n  var handleBlur = function handleBlur() {\n    setZeroTyped(false);\n    setIsFocused(false);\n    onBlur();\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (shouldManageZero && e.keyCode === 48 && (e.target.value === '' || ref.current.selectionStart === 0 && ref.current.selectionEnd === e.target.value.length)) {\n      setZeroTyped(true);\n    }\n\n    if (zeroTyped) {\n      if ([49, 50, 51, 52, 53, 54, 55, 56, 57].includes(e.keyCode)) {\n        var nextValue = \"\" + e.target.value + String.fromCharCode(e.keyCode);\n\n        if (nextValue !== '' && nextValue.length <= 2) {\n          var _moveNext;\n\n          moveNext((_moveNext = {\n            itemIndex: itemIndex\n          }, _moveNext[dateKey] = nextValue, _moveNext));\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      } else {\n        if (e.keyCode !== 48) {\n          setZeroTyped(false);\n        }\n      }\n    }\n  };\n\n  var handleKeyUp = function handleKeyUp(e) {\n    if (e.keyCode !== 8) {\n      setNextBack(false);\n    }\n\n    if (e.keyCode === 8 && e.target.value === '') {\n      if (nextBack) {\n        setNextBack(false);\n        moveBack({\n          itemIndex: itemIndex\n        });\n      } else {\n        setNextBack(true);\n      }\n    }\n\n    if (e.keyCode !== 37) {\n      setNextBackArrow(false);\n    }\n\n    if (e.keyCode === 37 && ref.current.selectionStart === ref.current.selectionEnd && ref.current.selectionStart === 0) {\n      if (nextBackArrow) {\n        setNextBackArrow(false);\n        moveBack({\n          itemIndex: itemIndex\n        });\n      } else {\n        setNextBackArrow(true);\n      }\n    }\n\n    if (e.keyCode !== 38) {\n      setNextForwardArrow(false);\n    }\n\n    if (e.keyCode === 39 && ref.current.selectionStart === ref.current.selectionEnd && ref.current.selectionStart === ref.current.value.length) {\n      if (nextForwardArrow) {\n        var _moveNext2;\n\n        setNextForwardArrow(false);\n        moveNext((_moveNext2 = {\n          itemIndex: itemIndex\n        }, _moveNext2[dateKey] = ref.current.value, _moveNext2));\n      } else {\n        setNextForwardArrow(true);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-container\"\n  }, showLabel && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-container\"\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label\"\n  }, label)), /*#__PURE__*/React.createElement(\"input\", {\n    ref: ref,\n    className: \" date-input input-\" + dateKey + \" \" + (value === '' ? 'empty' : ''),\n    disabled: disabled,\n    placeholder: placeholder,\n    type: \"text\",\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    value: getValueToShow({\n      zeroTyped: shouldManageZero ? zeroTyped : !shouldManageZero,\n      numericValue: numericValue,\n      value: value,\n      ref: ref,\n      shouldManageZero: shouldManageZero,\n      isFocused: isFocused\n    }),\n    onChange: handleChange,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    pattern: \"\\\\d*\"\n  }));\n});\n\nvar getValueToShow = function getValueToShow(_ref2) {\n  var numericValue = _ref2.numericValue,\n      value = _ref2.value,\n      isFocused = _ref2.isFocused,\n      zeroTyped = _ref2.zeroTyped;\n  if (isFocused && zeroTyped && numericValue === 0) return '0';\n  if (zeroTyped && /^0/.test(value) && !/^00/.test(value)) return value;\n\n  if (value !== '' && !isNaN(numericValue) && numericValue > 0) {\n    return String(isFocused && (/^00/.test(value) || numericValue > 10) ? numericValue : value);\n  }\n\n  return '';\n};\n\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"\"]);\n\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar Input$1 = styled$1(Input)(_templateObject$1());\nvar dateKeysByFormat = {\n  MMDDYYYY: ['month', 'day', 'year'],\n  DDMMYYYY: ['day', 'month', 'year'],\n  YYYYMMDD: ['year', 'month', 'day']\n};\n\nvar shouldJumpNext = function shouldJumpNext(_ref) {\n  var day = _ref.day,\n      month = _ref.month,\n      year = _ref.year,\n      date = _ref.date,\n      separator = _ref.separator,\n      format = _ref.format,\n      canMoveNext = _ref.canMoveNext;\n  if (parseInt(day, 10) >= 4) return true;\n  if (((day || '').startsWith('0') || canMoveNext) && parseInt(day, 10) > 0) return true;\n  var maxDaysInMonth = getDaysInMonth({\n    date: date,\n    separator: separator,\n    format: format\n  });\n  if (maxDaysInMonth < 30 && parseInt(day, 10) >= 3) return true;\n  if (parseInt(month, 10) >= 2) return true;\n  if (((month || '').startsWith('0') || canMoveNext) && parseInt(month, 10) > 0) return true;\n  if (parseInt(year, 10) >= 1000) return true;\n  return false;\n};\n\nvar PLACEHOLDERS = {\n  day: 'dd',\n  month: 'mm',\n  year: 'yyyy'\n};\nvar LABELS = {\n  day: 'Day',\n  month: 'Month',\n  year: 'Year'\n};\n\nvar getDateValue = function getDateValue(_ref2) {\n  var date = _ref2.date,\n      format = _ref2.format,\n      separator = _ref2.separator;\n\n  var _extractInfoFromDate = extractInfoFromDate({\n    date: date,\n    format: format,\n    separator: separator\n  }),\n      day = _extractInfoFromDate.day,\n      month = _extractInfoFromDate.month,\n      year = _extractInfoFromDate.year;\n\n  return new Date(year, month - 1, day);\n};\n\nvar DateInput = React.forwardRef(function (_ref3, ref) {\n  var className = _ref3.className,\n      _ref3$format = _ref3.format,\n      format = _ref3$format === void 0 ? 'MMDDYYYY' : _ref3$format,\n      _ref3$separator = _ref3.separator,\n      separator = _ref3$separator === void 0 ? '/' : _ref3$separator,\n      _ref3$placeholders = _ref3.placeholders,\n      placeholders = _ref3$placeholders === void 0 ? PLACEHOLDERS : _ref3$placeholders,\n      _ref3$showLabel = _ref3.showLabel,\n      showLabel = _ref3$showLabel === void 0 ? false : _ref3$showLabel,\n      disabled = _ref3.disabled,\n      date = _ref3.date,\n      onChange = _ref3.onChange,\n      onFocus = _ref3.onFocus,\n      onBlur = _ref3.onBlur,\n      _ref3$withCalendar = _ref3.withCalendar,\n      withCalendar = _ref3$withCalendar === void 0 ? true : _ref3$withCalendar,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"className\", \"format\", \"separator\", \"placeholders\", \"labels\", \"showLabel\", \"disabled\", \"date\", \"onChange\", \"onFocus\", \"onBlur\", \"withCalendar\"]);\n\n  var dateInputContainer = useRef();\n  var calendarContainer = useRef();\n\n  var _useState = useState(null),\n      dateInputContainerRef = _useState[0],\n      setDateInputContainerRef = _useState[1];\n\n  var _useState2 = useState(''),\n      localDate = _useState2[0],\n      setDate = _useState2[1];\n\n  var _React$useState = React.useState([]),\n      elRefs = _React$useState[0],\n      setElRefs = _React$useState[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var _useState4 = useState(false),\n      warning = _useState4[0],\n      setWarning = _useState4[1];\n\n  var _React$useState2 = React.useState(false),\n      isCalendarOpen = _React$useState2[0],\n      setIsCalendarOpen = _React$useState2[1];\n\n  var dateKeys = dateKeysByFormat[format];\n\n  var handleFocus = function handleFocus() {\n    onFocus && onFocus();\n    setIsCalendarOpen(true);\n  };\n\n  var handleBlur = function handleBlur(e) {\n    onBlur && onBlur();\n  };\n\n  useEffect(function () {\n    if (date) {\n      setDate(date);\n      handleValidateDate({\n        date: date\n      });\n    }\n  }, [date]);\n  React.useEffect(function () {\n    setElRefs(function (elRefs) {\n      return Array(3).fill().map(function (_, i) {\n        return elRefs[i] || createRef();\n      });\n    });\n    setDateInputContainerRef(dateInputContainer);\n  }, []);\n\n  var globalClickListener = function globalClickListener(e) {\n    if (!(e.path.includes(calendarContainer.current) || e.path.includes(dateInputContainer.current)) && isCalendarOpen) {\n      setIsCalendarOpen(false);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('click', globalClickListener);\n    return function () {\n      document.removeEventListener('click', globalClickListener);\n    };\n  }, [isCalendarOpen]);\n\n  var handleShouldFocusCalendar = function handleShouldFocusCalendar(e) {\n    if (!withCalendar) return;\n\n    if (e.target === elRefs[2].current && e.key === 'Tab') {\n      e.stopPropagation();\n      e.preventDefault();\n      calendarContainer.current.getElementsByTagName('button')[0].focus();\n    }\n\n    if (isCalendarOpen && e.key === 'Enter') {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if ([].concat(calendarContainer.current.getElementsByTagName('button')).includes(document.activeElement)) {\n        document.activeElement.click();\n      }\n    }\n\n    if (isCalendarOpen && e.key === 'Escape') {\n      e.stopPropagation();\n      e.preventDefault();\n      setIsCalendarOpen(false);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('keydown', handleShouldFocusCalendar);\n    return function () {\n      window.removeEventListener('keydown', handleShouldFocusCalendar);\n    };\n  }, [elRefs, calendarContainer, isCalendarOpen, document.activeElement]);\n\n  var handleValidateDate = function handleValidateDate(_ref4) {\n    var date = _ref4.date;\n    setError(false);\n    setWarning(false);\n\n    var _validateDate = validateDate({\n      date: date,\n      format: format,\n      separator: separator\n    }),\n        isValid = _validateDate.isValid,\n        isIncomplete = _validateDate.isIncomplete;\n\n    if (!isValid) {\n      setError(true);\n    }\n\n    if (isIncomplete) {\n      setWarning(true);\n    }\n  };\n\n  var handleChange = function handleChange(_ref5) {\n    var day = _ref5.day,\n        month = _ref5.month,\n        year = _ref5.year,\n        itemIndex = _ref5.itemIndex,\n        _ref5$canMoveNext = _ref5.canMoveNext,\n        canMoveNext = _ref5$canMoveNext === void 0 ? false : _ref5$canMoveNext;\n    var newDate = buildDate({\n      date: localDate,\n      separator: separator,\n      format: format,\n      day: day,\n      month: month,\n      year: year\n    });\n\n    if (shouldJumpNext({\n      day: day,\n      month: month,\n      year: year,\n      separator: separator,\n      format: format,\n      date: date,\n      canMoveNext: canMoveNext\n    })) {\n      if (elRefs[itemIndex + 1]) {\n        elRefs[itemIndex + 1].current.focus();\n        elRefs[itemIndex + 1].current.setSelectionRange(0, elRefs[itemIndex + 1].current.value.length);\n      }\n    }\n\n    setDate(newDate);\n    onChange(newDate);\n    handleValidateDate({\n      date: newDate\n    });\n  };\n\n  var moveBack = function moveBack(_ref6) {\n    var itemIndex = _ref6.itemIndex;\n\n    if (elRefs[itemIndex - 1]) {\n      elRefs[itemIndex - 1].current.focus();\n      elRefs[itemIndex - 1].current.setSelectionRange(0, elRefs[itemIndex - 1].current.value.length);\n    }\n  };\n\n  var moveNext = function moveNext(_ref7) {\n    var itemIndex = _ref7.itemIndex,\n        day = _ref7.day,\n        month = _ref7.month,\n        year = _ref7.year;\n    handleChange({\n      itemIndex: itemIndex,\n      canMoveNext: true,\n      day: day,\n      month: month,\n      year: year\n    });\n  };\n\n  var calculatedPosition = useMemo(function () {\n    var el = dateInputContainerRef && dateInputContainerRef.current;\n\n    if (el) {\n      var rect = el.getBoundingClientRect();\n      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      return {\n        top: rect.top + scrollTop + rect.height,\n        left: rect.left + scrollLeft,\n        position: 'absolute'\n      };\n    }\n\n    return {};\n  }, [dateInputContainerRef]);\n\n  var handleChangeDateCalendar = function handleChangeDateCalendar(newDate) {\n    var year = String(newDate.getFullYear());\n    var month = String(newDate.getMonth() + 1);\n    var day = String(newDate.getDate());\n    handleChange({\n      canMoveNext: false,\n      day: day,\n      month: month,\n      year: year\n    });\n  };\n\n  var renderCalendar = function renderCalendar() {\n    return ReactDOM.createPortal( /*#__PURE__*/React.createElement(\"div\", {\n      ref: calendarContainer,\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      },\n      className: \"calendar-container\",\n      style: _extends({}, calculatedPosition)\n    }, /*#__PURE__*/React.createElement(Calendar, {\n      inputRef: ref,\n      disabled: disabled,\n      onChange: handleChangeDateCalendar,\n      value: getDateValue({\n        date: localDate,\n        format: format,\n        separator: separator\n      })\n    })), document.body);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    className: className + \" date-input\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: dateInputContainer,\n    className: \"date-input-container\"\n  }, React.createElement(Input$1, {\n    disabled: disabled,\n    date: localDate,\n    placeholders: placeholders,\n    labels: LABELS,\n    separator: separator,\n    format: format,\n    onChange: handleChange,\n    itemIndex: 0,\n    ref: elRefs[0],\n    moveBack: moveBack,\n    moveNext: moveNext,\n    dateKey: dateKeys[0],\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    showLabel: showLabel\n  }), /*#__PURE__*/React.createElement(Separator$1, {\n    separator: separator\n  }), React.createElement(Input$1, {\n    disabled: disabled,\n    placeholders: placeholders,\n    labels: LABELS,\n    date: localDate,\n    separator: separator,\n    format: format,\n    onChange: handleChange,\n    itemIndex: 1,\n    ref: elRefs[1],\n    moveBack: moveBack,\n    moveNext: moveNext,\n    dateKey: dateKeys[1],\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    showLabel: showLabel\n  }), /*#__PURE__*/React.createElement(Separator$1, {\n    separator: separator\n  }), React.createElement(Input$1, {\n    disabled: disabled,\n    placeholders: placeholders,\n    labels: LABELS,\n    date: localDate,\n    separator: separator,\n    format: format,\n    onChange: handleChange,\n    itemIndex: 2,\n    ref: elRefs[2],\n    moveBack: moveBack,\n    moveNext: moveNext,\n    dateKey: dateKeys[2],\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    showLabel: showLabel\n  })), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-container\"\n  }, /*#__PURE__*/React.createElement(\"small\", null, \"Invalid date\")), warning && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-container\"\n  }, /*#__PURE__*/React.createElement(\"small\", null, \"Incomplete date\")), withCalendar && isCalendarOpen && renderCalendar());\n});\n\nfunction _templateObject$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  .date-input-container {\\n    display: flex;\\n    -webkit-box-align: baseline;\\n    align-items: baseline;\\n    width: fit-content;\\n    box-sizing: inherit;\\n\\n    .input-container {\\n      display: flex;\\n      align-items: flex-start;\\n      flex-direction: column;\\n      box-sizing: inherit;\\n\\n      input {\\n        &:active,\\n        &:focus {\\n          outline: none;\\n        }\\n\\n        display: block;\\n\\n        font-family: inherit;\\n\\n        border: none;\\n        outline: none;\\n        border-radius: 0px;\\n        appearance: none;\\n        background: none;\\n        transform: translateZ(0px);\\n\\n        -webkit-font-smoothing: antialiased;\\n        line-height: unset;\\n\\n        width: calc(2.2ch);\\n\\n        &.input-month {\\n          &.empty {\\n            width: calc(2.7ch);\\n          }\\n        }\\n        &.input-year {\\n          width: calc(4ch);\\n        }\\n        &::placeholder {\\n        }\\n        &:focus {\\n          background: #c3c3c338;\\n        }\\n      }\\n      .label-container {\\n        flex: 0 0 auto;\\n\\n        label {\\n          margin: 0px;\\n          max-width: 100%;\\n          font-weight: unset;\\n        }\\n      }\\n    }\\n  }\\n\\n  .separator {\\n    align-self: flex-end;\\n\\n    max-width: 100%;\\n  }\\n\\n  .error-container {\\n    margin: 0px;\\n    max-width: 100%;\\n\\n    line-height: 20px;\\n    color: rgb(176 79 79);\\n    text-align: left;\\n  }\\n\"]);\n\n  _templateObject$2 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar styled = styled$1(DateInput)(_templateObject$2());\nexport default styled;","map":{"version":3,"sources":["../src/utils/extractor.js","../src/utils/validators.js","../src/Separator/component.js","../src/Separator/styled.js","../src/hooks/index.js","../src/Input/component.js","../src/Input/styled.js","../src/component.js","../src/styled.js"],"names":["extractInfoFromDate","date","separator","format","dateSplitted","extractorByFormat","MMDDYYYY","DDMMYYYY","YYYYMMDD","extractor","dateExtracted","padValue","value","valueFromDate","pad","_value","parseInt","String","buildDate","day","month","year","dayFromDate","monthFromDate","yearFromDate","_day","_month","_year","builderByFormat","builder","getDaysInMonth","getNewValue","valueNumeric","newValue","isNaN","isBetweenLimitsOrEmpty","min","max","isValid","validateDay","errors","validateMonth","validateYear","validatorsByKey","validateDate","isIncomplete","isDayValid","isMonthValid","isYearValid","Separator","styled","useUpdateEffect","dependencies","isInitialMount","useRef","useEffect","effect","handleChangeInput","dateKey","setValue","setError","onChange","itemIndex","e","useInput","labels","placeholders","isFocused","useState","error","handleChange","dateInfo","label","placeholder","shouldManageZero","Input","disabled","moveBack","moveNext","onFocus","onBlur","showLabel","ref","isfocused","document","nextBack","setNextBack","nextBackArrow","setNextBackArrow","nextForwardArrow","setNextForwardArrow","setIsFocused","zeroTyped","setZeroTyped","numericValue","handleFocus","handleBlur","handleKeyDown","nextValue","handleKeyUp","getValueToShow","dateKeysByFormat","shouldJumpNext","canMoveNext","maxDaysInMonth","PLACEHOLDERS","LABELS","getDateValue","DateInput","className","withCalendar","props","dateInputContainer","calendarContainer","dateInputContainerRef","setDateInputContainerRef","localDate","setDate","elRefs","setElRefs","React","warning","setWarning","isCalendarOpen","setIsCalendarOpen","dateKeys","handleValidateDate","createRef","globalClickListener","window","handleShouldFocusCalendar","newDate","calculatedPosition","useMemo","el","rect","scrollLeft","scrollTop","top","left","position","handleChangeDateCalendar","renderCalendar"],"mappings":"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","sourcesContent":["export const extractInfoFromDate = ({ date, separator, format }) => {\n  const dateSplitted = (date || '').split(separator)\n\n  const extractorByFormat = {\n    MMDDYYYY: ['month', 'day', 'year'],\n    DDMMYYYY: ['day', 'month', 'year'],\n    YYYYMMDD: ['year', 'month', 'day']\n  }\n\n  const extractor = extractorByFormat[format]\n\n  const dateExtracted = extractor.reduce(\n    (extracted, key, idx) => ({ ...extracted, [key]: dateSplitted[idx] || '' }),\n    {}\n  )\n\n  return { ...dateExtracted }\n}\n\nconst padValue = ({ value, valueFromDate, pad }) => {\n  let _value = value\n\n  if ((value || '').startsWith('0') && value.length > 2) {\n    _value = parseInt(value, 10)\n  }\n\n  return String(\n    _value || (_value === '' ? _value : valueFromDate || '')\n  ).padStart(pad, '0')\n}\n\nexport const buildDate = ({ date, day, month, year, separator, format }) => {\n  const {\n    day: dayFromDate,\n    month: monthFromDate,\n    year: yearFromDate\n  } = extractInfoFromDate({ date, separator, format })\n\n  const _day = padValue({ value: day, valueFromDate: dayFromDate, pad: 2 })\n  const _month = padValue({\n    value: month,\n    valueFromDate: monthFromDate,\n    pad: 2\n  })\n  const _year = padValue({ value: year, valueFromDate: yearFromDate, pad: 4 })\n\n  const builderByFormat = {\n    MMDDYYYY: [_month, _day, _year],\n    DDMMYYYY: [_day, _month, _year],\n    YYYYMMDD: [_year, _month, _day]\n  }\n  const builder = builderByFormat[format]\n\n  return ''\n    .concat(builder[0], separator)\n    .concat(builder[1], separator)\n    .concat(builder[2])\n}\n","import { extractInfoFromDate } from './extractor'\n\nexport const getDaysInMonth = ({ date, separator, format }) => {\n  const { month, year } = extractInfoFromDate({ date, separator, format })\n\n  // Here January is 1 based //Day 0 is the last day in the previous month\n  return new Date(year, month, 0).getDate()\n  // Here January is 0 based // return new Date(year, month+1, 0).getDate();\n}\n\nconst getNewValue = ({ value }) => {\n  const valueNumeric = parseInt(value, 10)\n  let newValue = false\n  if (value === '') {\n    newValue = value\n  }\n\n  if ((!isNaN(valueNumeric) && value.match(/^[0-9]+$/)) || value === '') {\n    newValue = value\n  }\n  return newValue\n}\n\nconst isBetweenLimitsOrEmpty = ({ min, max, value }) => {\n  let isValid = true\n  const valueNumeric = parseInt(value, 10)\n\n  if (valueNumeric > max || valueNumeric < min) {\n    isValid = false\n  }\n  if (value === '') {\n    isValid = true\n  }\n  return { isValid, newValue: value }\n}\n\nexport const validateDay = ({ date, format, separator, value }) => ({\n  errors: [],\n  ...isBetweenLimitsOrEmpty({\n    min: 0,\n    max: getDaysInMonth({ date, format, separator }),\n    value: getNewValue({ value })\n  })\n})\n\nexport const validateMonth = ({ date, format, separator, value }) => ({\n  errors: [],\n  ...isBetweenLimitsOrEmpty({\n    min: 0,\n    max: 12,\n    value: getNewValue({ value })\n  })\n})\n\nexport const validateYear = ({ date, format, separator, value }) => ({\n  errors: [],\n  ...isBetweenLimitsOrEmpty({\n    min: 0,\n    max: 9999,\n    value: getNewValue({ value })\n  })\n})\n\nexport const validatorsByKey = {\n  day: validateDay,\n  month: validateMonth,\n  year: validateYear\n}\n\nexport const validateDate = ({ date, format, separator }) => {\n  const { day, month, year } = extractInfoFromDate({ date, separator, format })\n  let isValid = true\n  let isIncomplete = false\n  const { isValid: isDayValid } = validateDay({\n    date,\n    format,\n    separator,\n    value: day\n  })\n  const { isValid: isMonthValid } = validateMonth({\n    date,\n    format,\n    separator,\n    value: month\n  })\n  const { isValid: isYearValid } = validateYear({\n    date,\n    format,\n    separator,\n    value: year\n  })\n  if (!isDayValid || !isMonthValid || !isYearValid) isValid = false\n\n  isIncomplete =\n    parseInt(day || '', 10) === 0 ||\n    parseInt(month || '', 10) === 0 ||\n    parseInt(year || '', 10) === 0\n  return { isValid, isIncomplete }\n}\n","import React from 'react'\n\nconst Separator = ({ separator }) =><div className=\"separator\">{separator}</div>\n\n\nexport default Separator\n","import styled from '@emotion/styled'\n\nimport Separator from './component'\n\nexport default styled(Separator)``\n","import React, { useState, useEffect, useRef } from 'react'\n\n\nimport { extractInfoFromDate, validatorsByKey } from '../utils'\n\nexport const useUpdateEffect = (effect, dependencies = []) => {\n  const isInitialMount = useRef(true)\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false\n    } else {\n      effect()\n    }\n  }, dependencies)\n}\n\nexport const handleChangeInput = ({\n  dateKey,\n  setValue,\n  setError,\n  onChange,\n  date,\n  format,\n  separator,\n  itemIndex\n}) => (e) => {\n  const value = e.target.value\n  const { isValid, errors, newValue } = validatorsByKey[dateKey]({\n    date,\n    format,\n    separator,\n    value\n  })\n  setError(false)\n\n  if (isValid && (newValue || newValue === '')) {\n    onChange({ [dateKey]: newValue, itemIndex })\n    setValue(newValue)\n  } else {\n    setError(true)\n  }\n}\n\nexport const useInput = ({\n  labels,\n  placeholders,\n  dateKey,\n  date,\n  onChange,\n  format,\n  separator,\n  isFocused,\n  itemIndex\n}) => {\n  const [value, setValue] = useState('')\n  const [error, setError] = useState('')\n\n  const handleChange = handleChangeInput({\n    dateKey,\n    setValue,\n    setError,\n    onChange,\n    date,\n    format,\n    separator,\n    itemIndex\n  })\n\n  useUpdateEffect(() => {\n    const dateInfo = extractInfoFromDate({\n      date,\n      separator,\n      format\n    })\n    const _value = dateInfo[dateKey]\n\n    if (parseInt(_value, 10) !== parseInt(value, 10)) {\n      setValue(_value)\n    } else {\n      if (isFocused) {\n        setValue(_value)\n      } else {\n        if (_value !== value) {\n          setValue(_value)\n        }\n      }\n    }\n  }, [date])\n\n  useEffect(() => {\n    const dateInfo = extractInfoFromDate({\n      date,\n      separator,\n      format\n    })\n    const _value = dateInfo[dateKey]\n    setValue(_value)\n  }, [])\n\n  return {\n    label: labels[dateKey],\n    placeholder: placeholders[dateKey],\n    handleChange,\n    value,\n    error,\n    shouldManageZero: dateKey !== 'year'\n  }\n}\n","import React, { useState } from 'react'\nimport { useInput } from '../hooks'\n\nconst Input = React.forwardRef(\n  (\n    {\n      disabled = false,\n      placeholders,\n      labels,\n\n      date,\n      format,\n      separator,\n\n      itemIndex,\n      dateKey,\n\n      onChange,\n      moveBack,\n      moveNext,\n\n      shouldManageZero = true,\n\n      onFocus,\n      onBlur,\n\n      showLabel\n    },\n    ref\n  ) => {\n    const { value, error, label, placeholder, handleChange } = useInput({\n      labels,\n      placeholders,\n      ref,\n      date,\n      onChange,\n      format,\n      separator,\n      itemIndex,\n      isfocused: ref && ref.current !== document.activeElement,\n      dateKey\n    })\n\n    const [nextBack, setNextBack] = useState(false)\n    const [nextBackArrow, setNextBackArrow] = useState(false)\n    const [nextForwardArrow, setNextForwardArrow] = useState(false)\n    const [isFocused, setIsFocused] = useState(false)\n\n    const [zeroTyped, setZeroTyped] = useState(false)\n    const numericValue = parseInt(value, 10)\n\n    const handleFocus = (e) => {\n      setZeroTyped(false)\n      setIsFocused(true)\n      ref.current.select(0, ref.current.value.length)\n      onFocus()\n    }\n\n    const handleBlur = () => {\n      setZeroTyped(false)\n      setIsFocused(false)\n      onBlur()\n    }\n    const handleKeyDown = (e) => {\n      // 48 is 0\n      if (\n        shouldManageZero &&\n        e.keyCode === 48 &&\n        (e.target.value === '' ||\n          (ref.current.selectionStart === 0 &&\n            ref.current.selectionEnd === e.target.value.length))\n      ) {\n        setZeroTyped(true)\n      }\n\n      if (zeroTyped) {\n        if ([49, 50, 51, 52, 53, 54, 55, 56, 57].includes(e.keyCode)) { // 1.2.3.... keys\n          const nextValue = `${e.target.value}${String.fromCharCode(e.keyCode)}`\n          if (nextValue !== '' && nextValue.length <= 2) {\n            moveNext({ itemIndex, [dateKey]: nextValue })\n            e.stopPropagation()\n            e.preventDefault()\n          }\n        } else {\n          if (e.keyCode !== 48) {\n            setZeroTyped(false)\n          }\n        }\n      }\n    }\n\n    const handleKeyUp = (e) => {\n      if (e.keyCode !== 8) { // delete key\n        setNextBack(false)\n      }\n      if (e.keyCode === 8 && e.target.value === '') {\n        if (nextBack) {\n          setNextBack(false)\n          moveBack({ itemIndex })\n        } else {\n          setNextBack(true)\n        }\n      }\n\n      if (e.keyCode !== 37) { // arrow key left\n        setNextBackArrow(false)\n      }\n\n      if (\n        e.keyCode === 37 && // arrow key left\n        ref.current.selectionStart === ref.current.selectionEnd &&\n        ref.current.selectionStart === 0\n      ) {\n        if (nextBackArrow) {\n          setNextBackArrow(false)\n          moveBack({ itemIndex })\n        } else {\n          setNextBackArrow(true)\n        }\n      }\n\n      if (e.keyCode !== 38) { // arrow key right\n        setNextForwardArrow(false)\n      }\n\n      if (\n        e.keyCode === 39 && // arrow key right\n        ref.current.selectionStart === ref.current.selectionEnd &&\n        ref.current.selectionStart === ref.current.value.length\n      ) {\n        if (nextForwardArrow) {\n          setNextForwardArrow(false)\n          moveNext({ itemIndex, [dateKey]: ref.current.value })\n        } else {\n          setNextForwardArrow(true)\n        }\n      }\n    }\n\n    return (\n      <div className='input-container'>\n        {showLabel && <div className='label-container'>\n          <label className='label'>{label}</label>\n    </div> }\n        <input\n          ref={ref}\n          className={` date-input input-${dateKey} ${value === '' ? 'empty' : ''}`}\n          disabled={disabled}\n          placeholder={placeholder}\n          type='text'\n          onKeyDown={handleKeyDown}\n          onKeyUp={handleKeyUp}\n          value={getValueToShow({\n            zeroTyped: shouldManageZero ? zeroTyped : !shouldManageZero,\n            numericValue,\n            value,\n            ref,\n            shouldManageZero,\n            isFocused\n          })}\n          onChange={handleChange}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          pattern='\\d*'\n        />\n      </div>\n    )\n  }\n)\n\nexport default Input\n\nconst getValueToShow = ({ numericValue, value, isFocused, zeroTyped }) => {\n  if (isFocused && zeroTyped && numericValue === 0) return '0'\n  if (zeroTyped && /^0/.test(value) && !/^00/.test(value)) return value\n\n  if (value !== '' && !isNaN(numericValue) && numericValue > 0) {\n    return String(\n      isFocused && (/^00/.test(value) || numericValue > 10)\n        ? numericValue\n        : value\n    )\n  }\n\n  return ''\n}\n","import styled from '@emotion/styled'\n\nimport Input from './component'\n\nexport default styled(Input)``\n","import React, { useState, useEffect, createRef, useMemo, useRef } from 'react'\nimport ReactDOM from 'react-dom'\nimport Calendar from 'react-calendar'\nimport 'react-calendar/dist/Calendar.css'\n\nimport {\n  extractInfoFromDate,\n  buildDate,\n  getDaysInMonth,\n  validateDate\n} from './utils'\n\nimport Separator from './Separator'\nimport Input from './Input'\n\nconst dateKeysByFormat = {\n  MMDDYYYY: ['month', 'day', 'year'],\n  DDMMYYYY: ['day', 'month', 'year'],\n  YYYYMMDD: ['year', 'month', 'day']\n}\n\nconst shouldJumpNext = ({\n  day,\n  month,\n  year,\n  date,\n  separator,\n  format,\n  canMoveNext\n}) => {\n  if (parseInt(day, 10) >= 4) return true\n  if (((day || '').startsWith('0') || canMoveNext) && parseInt(day, 10) > 0)\n    return true\n  const maxDaysInMonth = getDaysInMonth({ date, separator, format })\n  if (maxDaysInMonth < 30 && parseInt(day, 10) >= 3) return true\n\n  if (parseInt(month, 10) >= 2) return true\n  if (((month || '').startsWith('0') || canMoveNext) && parseInt(month, 10) > 0)\n    return true\n\n  if (parseInt(year, 10) >= 1000) return true\n  if (\n    false &&\n    ((year || '').startsWith('0') || canMoveNext) &&\n    parseInt(year, 10) > 0\n  )\n    return true\n\n  return false\n}\n\nconst PLACEHOLDERS = {\n  day: 'dd',\n  month: 'mm',\n  year: 'yyyy'\n}\n\nconst LABELS = {\n  day: 'Day',\n  month: 'Month',\n  year: 'Year'\n}\n\nconst getDateValue = ({ date, format, separator }) => {\n  const { day, month, year } = extractInfoFromDate({ date, format, separator })\n  return new Date(year, month - 1, day)\n}\n\nconst DateInput = React.forwardRef(\n  (\n    {\n      className,\n      format = 'MMDDYYYY',\n      separator = '/',\n      placeholders = PLACEHOLDERS,\n      labels = LABELS,\n      showLabel = false,\n\n      disabled,\n      date,\n      onChange,\n      onFocus,\n      onBlur,\n      withCalendar = true,\n      ...props\n    },\n    ref\n  ) => {\n    const dateInputContainer = useRef()\n    const calendarContainer = useRef()\n    const [dateInputContainerRef, setDateInputContainerRef] = useState(null)\n    const [localDate, setDate] = useState('')\n    const [elRefs, setElRefs] = React.useState([])\n    const [error, setError] = useState(false)\n    const [warning, setWarning] = useState(false)\n    const [isCalendarOpen, setIsCalendarOpen] = React.useState(false)\n\n    const dateKeys = dateKeysByFormat[format]\n\n    const handleFocus = () => {\n      onFocus && onFocus()\n      setIsCalendarOpen(true)\n    }\n\n    const handleBlur = (e) => {\n      onBlur && onBlur()\n    }\n\n    useEffect(() => {\n      if (date) {\n        setDate(date)\n        handleValidateDate({ date })\n      }\n    }, [date])\n\n    React.useEffect(() => {\n      // add or remove refs\n      setElRefs((elRefs) =>\n        Array(3)\n          .fill()\n          .map((_, i) => elRefs[i] || createRef())\n      )\n      setDateInputContainerRef(dateInputContainer)\n    }, [])\n\n    const globalClickListener = (e) => {\n      if (\n        !(\n          e.path.includes(calendarContainer.current) ||\n          e.path.includes(dateInputContainer.current)\n        ) &&\n        isCalendarOpen\n      ) {\n        setIsCalendarOpen(false)\n      }\n    }\n\n    useEffect(() => {\n      window.addEventListener('click', globalClickListener)\n      return () => {\n        document.removeEventListener('click', globalClickListener)\n      }\n    }, [isCalendarOpen])\n\n    const handleShouldFocusCalendar = (e) => {\n      if (!withCalendar) return\n      if (e.target === elRefs[2].current && e.key === 'Tab') {\n        e.stopPropagation()\n        e.preventDefault()\n        calendarContainer.current.getElementsByTagName('button')[0].focus()\n      }\n\n      if (isCalendarOpen && e.key === 'Enter') {\n        e.stopPropagation()\n        e.preventDefault()\n        if([...calendarContainer.current.getElementsByTagName('button')].includes(document.activeElement)){\n          document.activeElement.click()\n        }\n      }\n\n      if (isCalendarOpen && e.key === 'Escape') {\n        e.stopPropagation()\n        e.preventDefault()\n        setIsCalendarOpen(false)\n      }\n    }\n\n    useEffect(() => {\n      window.addEventListener('keydown', handleShouldFocusCalendar)\n\n      return () => {\n        window.removeEventListener('keydown', handleShouldFocusCalendar)\n      }\n    }, [elRefs, calendarContainer, isCalendarOpen, document.activeElement])\n\n    const handleValidateDate = ({ date }) => {\n      setError(false)\n      setWarning(false)\n      const { isValid, isIncomplete } = validateDate({\n        date,\n        format,\n        separator\n      })\n      if (!isValid) {\n        setError(true)\n      }\n      if (isIncomplete) {\n        setWarning(true)\n      }\n    }\n    const handleChange = ({\n      day,\n      month,\n      year,\n      itemIndex,\n      canMoveNext = false\n    }) => {\n      const newDate = buildDate({\n        date: localDate,\n        separator,\n        format,\n        day,\n        month,\n        year\n      })\n\n      if (\n        shouldJumpNext({\n          day,\n          month,\n          year,\n          separator,\n          format,\n          date,\n          canMoveNext\n        })\n      ) {\n        if (elRefs[itemIndex + 1]) {\n          elRefs[itemIndex + 1].current.focus()\n          elRefs[itemIndex + 1].current.setSelectionRange(\n            0,\n            elRefs[itemIndex + 1].current.value.length\n          )\n        }\n      }\n      setDate(newDate)\n      onChange(newDate)\n      handleValidateDate({ date: newDate })\n    }\n\n    const moveBack = ({ itemIndex }) => {\n      if (elRefs[itemIndex - 1]) {\n        elRefs[itemIndex - 1].current.focus()\n        elRefs[itemIndex - 1].current.setSelectionRange(\n          0,\n          elRefs[itemIndex - 1].current.value.length\n        )\n      }\n    }\n\n    const moveNext = ({ itemIndex, day, month, year }) => {\n      handleChange({ itemIndex, canMoveNext: true, day, month, year })\n    }\n\n    const calculatedPosition = useMemo(() => {\n      //State.calculatePosition(state)\n      const el = dateInputContainerRef && dateInputContainerRef.current\n      if (el) {\n        const rect = el.getBoundingClientRect()\n\n        const scrollLeft =\n          window.pageXOffset || document.documentElement.scrollLeft\n        const scrollTop =\n          window.pageYOffset || document.documentElement.scrollTop\n\n        return {\n\n          top: rect.top + scrollTop + rect.height,\n          left: rect.left + scrollLeft,\n          position: 'absolute'\n        }\n      }\n\n      return {}\n    }, [dateInputContainerRef])\n\n    const handleChangeDateCalendar = (newDate) => {\n      const year = String(newDate.getFullYear())\n      const month = String(newDate.getMonth() + 1)\n      const day = String(newDate.getDate())\n      handleChange({ canMoveNext: false, day, month, year })\n    }\n\n    const renderCalendar = () => {\n      return ReactDOM.createPortal(\n        <div\n          ref={calendarContainer}\n          onClick={(e) => e.stopPropagation()}\n          className='calendar-container'\n          style={{ ...calculatedPosition }}\n        >\n          <Calendar\n            inputRef={ref}\n            disabled={disabled}\n            onChange={handleChangeDateCalendar}\n            value={getDateValue({ date: localDate, format, separator })}\n          />\n        </div>,\n        document.body\n      )\n    }\n\n    return (\n      <div ref={ref} className={`${className} date-input`}>\n        <div ref={dateInputContainer} className='date-input-container'>\n          {React.createElement(Input, {\n            disabled,\n            date: localDate,\n            placeholders,\n            labels: LABELS,\n            separator,\n            format,\n            onChange: handleChange,\n            itemIndex: 0,\n            ref: elRefs[0],\n            moveBack,\n            moveNext,\n            dateKey: dateKeys[0],\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            showLabel\n          })}\n          <Separator separator={separator} />\n          {React.createElement(Input, {\n            disabled,\n            placeholders,\n            labels: LABELS,\n            date: localDate,\n            separator,\n            format,\n            onChange: handleChange,\n            itemIndex: 1,\n            ref: elRefs[1],\n            moveBack,\n            moveNext,\n            dateKey: dateKeys[1],\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            showLabel\n          })}\n          <Separator separator={separator} />\n          {React.createElement(Input, {\n            disabled,\n            placeholders,\n            labels: LABELS,\n            date: localDate,\n            separator,\n            format,\n            onChange: handleChange,\n            itemIndex: 2,\n            ref: elRefs[2],\n            moveBack,\n            moveNext,\n            dateKey: dateKeys[2],\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            showLabel\n          })}\n        </div>\n        {error && (\n          <div className='error-container'>\n            <small>Invalid date</small>\n          </div>\n        )}\n        {warning && (\n          <div className='error-container'>\n            <small>Incomplete date</small>\n          </div>\n        )}\n\n        {withCalendar && isCalendarOpen && renderCalendar()}\n      </div>\n    )\n  }\n)\n\nexport default DateInput\n","import styled from '@emotion/styled'\n\nimport DateInput from './component'\n\nexport default styled(DateInput)`\n  .date-input-container {\n    display: flex;\n    -webkit-box-align: baseline;\n    align-items: baseline;\n    width: fit-content;\n    box-sizing: inherit;\n\n    .input-container {\n      display: flex;\n      align-items: flex-start;\n      flex-direction: column;\n      box-sizing: inherit;\n\n      input {\n        &:active,\n        &:focus {\n          outline: none;\n        }\n\n        display: block;\n\n        font-family: inherit;\n\n        border: none;\n        outline: none;\n        border-radius: 0px;\n        appearance: none;\n        background: none;\n        transform: translateZ(0px);\n\n        -webkit-font-smoothing: antialiased;\n        line-height: unset;\n\n        width: calc(2.2ch);\n\n        &.input-month {\n          &.empty {\n            width: calc(2.7ch);\n          }\n        }\n        &.input-year {\n          width: calc(4ch);\n        }\n        &::placeholder {\n        }\n        &:focus {\n          background: #c3c3c338;\n        }\n      }\n      .label-container {\n        flex: 0 0 auto;\n\n        label {\n          margin: 0px;\n          max-width: 100%;\n          font-weight: unset;\n        }\n      }\n    }\n  }\n\n  .separator {\n    align-self: flex-end;\n\n    max-width: 100%;\n  }\n\n  .error-container {\n    margin: 0px;\n    max-width: 100%;\n\n    line-height: 20px;\n    color: rgb(176 79 79);\n    text-align: left;\n  }\n`\n"]},"metadata":{},"sourceType":"module"}